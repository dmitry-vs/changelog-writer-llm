# 📝 Changelog Writer

🤖 Автоматический генератор changelog на основе коммитов GitHub с использованием искусственного интеллекта.

## 🎯 Назначение проекта

Проект предназначен для автоматической генерации changelog (списка изменений) на основе коммитов из GitHub репозитория. Система анализирует коммиты между версиями, группирует изменения по категориям и создает структурированный changelog на русском языке.

## ⚙️ Механизм работы

### 1. 🔗 Получение данных из GitHub

- 🔐 Подключается к GitHub API с использованием токена аутентификации
- 📋 Получает список коммитов из основной ветки репозитория
- 🏷️ Извлекает информацию о тегах версий (semver формат)
- 🔗 Создает маппинг между коммитами и тегами

### 2. 🔍 Анализ коммитов

- 🎯 Находит последний коммит в репозитории ("last")
- 📍 Определяет ближайший коммит с тегом, где patch версия равна 0 ("first")
- 🔄 Если такой коммит не найден, берет самый первый коммит в репозитории
- 📊 Формирует список коммитов между "first" и "last" в хронологическом порядке

### 3. ✨ Генерация changelog

- 🧠 Использует LLM (Large Language Model) для анализа коммитов
- 📂 Группирует изменения по категориям:
  - ✅ **Добавлено** - новые функции и возможности
  - 🔧 **Исправлено** - исправления ошибок
  - 🔄 **Другое** - прочие изменения
- 🌍 Переводит описания на русский язык
- 📝 Форматирует результат в Markdown

### 4. 👥 Интерактивная проверка

- 👀 Предоставляет пользователю возможность просмотреть сгенерированный changelog
- ✏️ Позволяет принять, отредактировать или перегенерировать changelog
- 🔄 Поддерживает итеративный процесс улучшения результата

## 🛠️ Используемые технологии

### 📚 Основные библиотеки

- 🐙 **PyGithub** - для работы с GitHub API
- 🔗 **LangChain** - фреймворк для работы с LLM
- 📊 **LangGraph** - для создания агентских систем с графом состояний
- 🔧 **python-dotenv** - для управления переменными окружения

### 🤖 LLM модели

Проект поддерживает различные языковые модели:

- 🧠 GPT-OSS
- 🚀 Grok
- ⚡ Groq
- 🔍 DeepSeek
- 💬 GigaChat Pro
- 💭 GigaChat

### 🏗️ Архитектура

- 📊 **StateGraph** - граф состояний для управления потоком выполнения
- 🔧 **ToolNode** - узел для выполнения инструментов (получение коммитов)
- 🔀 **Conditional edges** - условные переходы между узлами
- 👤 **Human-in-the-loop** - интерактивная проверка результатов

## 📁 Структура проекта

```
changelog-writer/
├── 📄 changelog-writer.py  # Основной файл с логикой генерации
├── ⚙️ models.py           # Конфигурация LLM моделей
├── 📦 pyproject.toml      # Зависимости проекта
├── 📖 README.md           # Документация проекта
└── 🔐 .env               # Переменные окружения (GitHub токен, репозиторий)
```

## 🚀 Использование

1. 📦 Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

2. 🔐 Создайте файл `.env` с переменными:

   ```
   GITHUB_API_TOKEN=your_github_token
   GITHUB_REPO=owner/repository
   ```

3. ▶️ Запустите генератор:

   ```bash
   python changelog-writer.py
   ```

4. 🎯 Опционально укажите начальный коммит:
   ```bash
   python changelog-writer.py --start-commit <SHA>
   ```

## ✨ Особенности

- 🎯 **Автоматическое определение версий** - система сама находит коммиты между версиями
- 🧠 **Интеллектуальная группировка** - LLM анализирует сообщения коммитов и группирует их по смыслу
- 🌍 **Локализация** - весь changelog генерируется на русском языке
- 👥 **Интерактивность** - возможность корректировки результата пользователем
- 🔧 **Гибкость** - поддержка различных LLM моделей и настройка параметров
